<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.86, maximum-scale=3.0, minimum-scale=0.86, shrink-to-fit=no">
    <title>roll broadway</title>

    <link rel="stylesheet" href="src/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>
   <div class="container" style="height: 650px; position: relative">
        <div id="player"></div>
        <button type="button" class="btn btn-primary btn-lg" onclick="getRandomVideo();" style="margin: auto;left: 0;right: 0;bottom: 2%;position: absolute;width: 850px;height: 130px;">ROLL</button>
    </div>
    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    
    <script src="playlist.js"></script>
    
    <script>
        let playerWidth,
            playerHeight;

        function getIFrameWidth() {
            let windowsWidth = document.documentElement.scrollWidth;
            return Math.trunc(850*windowsWidth/1366);
        }
        
        function getRandomNumber(max) {
            return Math.floor(Math.random() * Math.floor(max));
        }
        
        function getRandomVideo() {
            $('#player').remove();
            let number = getRandomNumber(ids.length);
            let id = ids[number];
            $('.container').append('<div id="player"></div>');
            let ytWidth = getIFrameWidth();
            let ytHeigth = Math.trunc(ytWidth*478/850);
            $('#player').append('<iframe width="' + ytWidth + '" height="' + ytHeigth + '" src="https://www.youtube.com/embed/' + id + '" frameborder="0" allow="accelerometer; autoplay="1"; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>');
        }
        
        $(document).ready(function(){
            
            getRandomVideo();
            $('.btn').click(getRandomVideo());
            $(document).keyup(function(e) {
                if (e.keyCode === 32) {
                    e.preventDefault;
                    getRandomVideo();
	           }
            });
        });
    </script>
</body>
</html>